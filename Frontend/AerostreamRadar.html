<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BD6X6XVNFK"></script>
    
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-BD6X6XVNFK');
        
    </script>

    <!-- Page setup-->
    <meta charset = "UTF-8">
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
    
    <title>Aerostream Radar</title>

    <meta name = "description" content = "Real-time, free flight tracking for aircraft in your area and around the world. Powered by ADSB.lol and Leaflet interactive maps.">

    <!-- Map import -->
    <link rel = "stylesheet" href = "https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Element styles-->
    <link rel = "stylesheet" href="Styles.css">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="Assets/Favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="Assets/Favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="Assets/Favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="192x192" href="Assets/Favicons/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="Assets/Favicons/android-chrome-512x512.png">
    <link rel="rel icon" href="Assets/Favicons/favicon.ico">
    <link rel="manifest" href="Assets/Favicons/site.webmanifest">

</head>

<!-- HTML Structure -->
<body class = "light-mode" >
    <!-- Timeout dialog -->
    <div id = "timeout-dialog">
        <div>Your session has timed out!</div>

        <div style = "font-size: 12px; margin-top: 10px; opacity: 0.8;">
            Please refresh to start a new session after 60 minutes of inactivity.

        </div>

        <div style = "font-size: 10px; margin-top: 10px; opacity: 0.6;">
            This can be disabled by pressing "T", though please be mindful of your resource usage.

        </div>

    </div>

    <div id="fullscreen-cover"></div>

    <!-- Map container -->
    <div id = "map"></div>

    <!-- Controls display -->
    <div id = "controls-display">
        <div class="zoom-buttons">
            <button onclick = "zoomOut()">Zoom Out (-)</button>
            <button onclick = "zoomIn()">Zoom In (+)</button>
        </div>

        <button onclick = "centerMap()">Center Map (C)</button>
        <button onclick = "resetMap()">Reset View (R)</button>
        <button onclick = "toggleMapLabels()">Toggle Map Labels (L)</button>
        <button onclick = "UIManager.cycleAppearance()">Cycle Appearance (A)</button>

        <span>  </span>

        <span>Press M to toggle mouse view</span>
        <span>Press V to cycle view</span>

    </div>

    <div id="attribution-panel">
        <div style="margin-bottom: 8px; font-weight: bold; opacity: 0.9;">Special Thanks</div>
        
        <div style="margin-bottom: 6px;">
            <u><a href="https://adsb.lol/" target="_blank">ADSB.lol</a></u> - Live ATC data
        
        </div>

        <div style="margin-bottom: 6px;">
            <u><a href="https://www.openstreetmap.org/" target="_blank">OpenStreetMap</a></u> - Standard map
        
        </div>

        <div style="margin-bottom: 6px;">
            <u><a href="https://carto.com/basemaps" target="_blank">CARTO Basemaps</a></u> - Alternate map
        
        </div>

        <div style="margin-bottom: 6px;">
            <u><a href="https://leafletjs.com/" target="_blank">Leaflet</a></u> - Map framework
        
        </div>

    </div>

    <!-- Automatic coordinate dialog -->
    <div id = "loading-screen">
        <div style = "font-family: 'Courier New';">Getting your location...</div>

        <div style = "font-size: 12px; margin-top: 10px; opacity: 0.8; font-family: 'Courier New';">
            Please allow location access to auto-center the map.
        </div>

    </div>

    <!-- Manual coordinate dialoge -->
    <div id = "coordinate-prompt">
        <h3>Set Your Location</h3>

        <p style = "font-size: 12px; margin-bottom: 15px; opacity: 0.8; font-family: 'Courier New';">
            Location services are disabled or unavailable. Please enter your coordinates manually.
        </p>

        <div>
            <label> Latitude:
                <input type = "number" id = "latitude-input" placeholder = "e.g. 49.1934" step = "0.1" >

            </label>
        </div>
        <div>
            <label> Longitude:
                <input type = "number" id = "longitude-input" placeholder = "e.g. -123.1751" step = "0.1" >

            </label>
        </div>

        <button onclick = "setCoordinates()">Use Manual Coordinates</button>
        <button class = "location-button" onclick = "requestLocation()"> Try Location Services Again</button>

    </div>

    <!-- Aircraft info panel -->
    <div id = "aircraft-info-panel">
        <div class = "panel-header">
            <h3 style = "margin: 0;">Aircraft Details</h3>
            <button class = "close-button" onclick = "deselectAircraft()">âœ•</button>

        </div>

        <div id = "aircraft-info">
            <div class = "info-row">
                <span class = "info-label">Callsign:</span>
                <span class = "info-value" id = "info-callsign">-</span>

            </div>

            <div class = "info-row">
                <span class = "info-label">ICAO ID:</span>
                <span class = "info-value" id = "info-icaoID">-</span>

            </div>

            <div class = "info-row">
                <span class = "info-label">Altitude:</span>
                <span class = "info-value" id = "info-altitude">-</span>

            </div>

            <div class = "info-row">
                <span class = "info-label">Speed:</span>
                <span class = "info-value" id = "info-speed">-</span>

            </div>

            <div class = "info-row">
                <span class = "info-label">Track:</span>
                <span class = "info-value" id = "info-track">-</span>

            </div>

            <div class = "info-row">
                <span class = "info-label">Squawk:</span>
                <span class = "info-value" id = "info-squawk">-</span>

            </div>

            <div class = "info-row">
                <span class = "info-label">Type:</span>
                <span class = "info-value" id = "info-type">-</span>

            </div>

            <div class = "info-row">
                <span class = "info-label">Position:</span>
                <span class = "info-value" id = "info-position">-</span>

            </div>

            <!--
            <div class = "info-row">
                <span class = "info-label">Last Updated:</span>
                <span class = "info-value" id = "info-latestUpdate">-</span>

            </div>
            -->

        </div>
    </div>

    <!-- Leaflet JavaScript -->
    <script src = "https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- JS Scripting -->
    <script src = "Scripts/session-manager.js"></script>
    <script src = "Scripts/ui-manager.js"></script>

    <script src = "Scripts/main.js"></script>

</body>
</html>